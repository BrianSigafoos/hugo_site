/* Tailwind v4 configuration */
@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* Source paths for content detection */
@source "../../layouts/**/*.html";
@source "../../content/*.md";

@theme {
  --color-primary: var(--color-primary);
}
/* Container configuration */
@utility container {
  margin-inline: auto;
  padding-inline: 1.5rem;
}

/* Color variables - Light mode default */
:root {
  --color-primary: #17bf63;
  --text-on-color-primary: #fff;
  --bg-bright: #fff;
  --bg-gray: #f7fafc;
  --border-gray: #edf2f7;
  --text-bright: #1a202c;
  --text-color: #4a5568;
  --text-muted: #718096;
  --text-faint: #a0aec0;
}

/* Dark mode - OS preference */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-bright: #1a202c;
    --bg-gray: #131720;
    --border-gray: #202837;
    --text-bright: #edf2f7;
    --text-color: #a0aec0;
    --text-faint: #4a5568;
  }
}

/* Dark mode - manual toggle */
body[data-color-scheme='light'] {
  --bg-bright: #fff;
  --bg-gray: #f7fafc;
  --border-gray: #edf2f7;
  --text-bright: #1a202c;
  --text-color: #4a5568;
  --text-faint: #a0aec0;
}

body[data-color-scheme='dark'] {
  --bg-bright: #1a202c;
  --bg-gray: #131720;
  --border-gray: #202837;
  --text-bright: #edf2f7;
  --text-color: #a0aec0;
  --text-faint: #4a5568;
}

/* Primary color variants */
body[data-color-primary='teal'] { --color-primary: #00bcd4; }
body[data-color-primary='pink'] { --color-primary: #ec407a; }

/* Utility classes using CSS variables */
@layer components {
  .text-bright { color: var(--text-bright); }
  .text-color { color: var(--text-color); }
  .text-muted { color: var(--text-muted); }
  .text-faint { color: var(--text-faint); }
  .bg-bright { background-color: var(--bg-bright); }
  .bg-gray { background-color: var(--bg-gray); }
  .border-gray { border-color: var(--border-gray); }
  .text-on-color-primary { color: var(--text-on-color-primary); }
}

/* Typography prose theme - maps CSS variables to Tailwind prose */
.prose-custom {
  --tw-prose-body: var(--text-color);
  --tw-prose-headings: var(--text-bright);
  --tw-prose-lead: var(--text-muted);
  --tw-prose-links: var(--color-primary);
  --tw-prose-bold: var(--text-bright);
  --tw-prose-counters: var(--text-muted);
  --tw-prose-bullets: var(--text-muted);
  --tw-prose-hr: var(--text-faint);
  --tw-prose-quotes: var(--text-bright);
  --tw-prose-quote-borders: var(--text-faint);
  --tw-prose-captions: var(--text-color);
  --tw-prose-code: var(--text-bright);
  --tw-prose-pre-code: var(--text-faint);
  --tw-prose-pre-bg: var(--bg-gray);
  color: var(--text-color);
}

/* Custom components */
@layer components {
  .table-arabic-last-col td:last-child {
    @apply text-right text-lg p-1;
  }

  .gist h1, .gist h2, .gist h3, .gist h4, .gist p {
    color: var(--color-primary);
  }
  .gist .gist-file { border: none !important; }
  .gist .gist-data { background-color: inherit !important; }
}
